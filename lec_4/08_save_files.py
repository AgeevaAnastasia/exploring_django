"""–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Ñ–∞–π–ª–æ–≤)


–í —Ñ–∏–Ω–∞–ª–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º Django —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.


üí° –í–Ω–∏–º–∞–Ω–∏–µ! –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª—é–±—ã–µ —Ñ–∞–π–ª—ã, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ
–∫–∞—Ä—Ç–∏–Ω–∫–∏. –î–ª—è —ç—Ç–æ–≥–æ –∑–∞–º–µ–Ω—è–µ–º ImageFied –Ω–∞ FileField.


–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É Django –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ –≤–∏–¥–∂–µ—Ç–∞
ImageField. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–µ
ImageField, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –∏
—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

–§–æ—Ä–º–∞ forms.py
–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Ñ–æ—Ä–º—ã:

class ImageForm(forms.Form):
    image = forms.ImageField()

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ settings.py

–¢–µ–ø–µ—Ä—å –ø–æ–∑–∞–±–æ—Ç–∏–º—Å—è –æ —Ç–æ–º, —á—Ç–æ–±—ã Django —Å–æ–∑–¥–∞–ª –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –Ω–∞—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
–ü–µ—Ä–µ–π–¥—ë–º –≤ settings.py –∏ –ø—Ä–æ–ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç:

...
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'
...

–í—Å–µ –ø—Ä–∏—Å–ª–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
media –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.



–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ views.py

–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ:

...
from django.core.files.storage import FileSystemStorage
from django.shortcuts import render
from .forms import ImageForm
...
def upload_image(request):
    if request.method == 'POST':
        form = ImageForm(request.POST, request.FILES)
        if form.is_valid():
            image = form.cleaned_data['image']
            fs = FileSystemStorage()
            fs.save(image.name, image)
    else:
        form = ImageForm()
    return render(request, 'myapp4/upload_image.html', {'form': form})



–ï—Å–ª–∏ –ø–æ—Å—Ç—É–ø–∏–ª POST –∑–∞–ø—Ä–æ—Å, —Ñ–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∑ request.POST, –Ω–æ –∏ –∏–∑
request.FILES. –¢–∞–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –Ω–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã —É—Å–ø–µ—à–Ω–æ
–∑–∞–≤–µ—Ä—à–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º —Ç—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è:
1. –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π image
2. –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ FileSystemStorage –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ —Å–∏–ª–∞–º–∏
Django
3. –ü—Ä–æ—Å–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä fs —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –ú–µ—Ç–æ–¥ save –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–º—è
—Ñ–∞–π–ª–∞ –∏ —Å–∞–º —Ñ–∞–π–ª



–ú–∞—Ä—à—Ä—É—Ç urls.py

–ü—Ä–æ–ø–∏—à–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤:

from django.urls import path
from .views import user_form, many_fields_form, add_user, upload_image

urlpatterns = [
    ...
    path('upload/', upload_image, name='upload_image'),
]


–®–∞–±–ª–æ–Ω templates/myapp4

–§–∏–Ω–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø - —Å–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω upload_image.html:

{% extends 'base.html' %}
{% block content %}
<h2>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h2>
<form method="post" enctype="multipart/form-data">
{% csrf_token %}
{{ form.as_p }}
<button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
</form>
{% endblock %}


üî• –í–∞–∂–Ω–æ! –ß—Ç–æ–±—ã —Ñ–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤ —Ç–µ–≥–µ —Ñ–æ—Ä–º
–ø—Ä–æ–ø–∏—Å–∞—Ç—å enctype="multipart/form-data". –ë–µ–∑ —ç—Ç–æ–≥–æ –º—ã –Ω–µ –ø–æ–ª—É—á–∏–º –¥–æ—Å—Ç—É–ø –∫
—Ñ–∞–π–ª–∞–º.


–ò—Ç–æ–≥–∏

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ —Ñ–æ—Ä–º—ã Django —è–≤–ª—è—é—Ç—Å—è —É–¥–æ–±–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ï—Å–ª–∏ –≤–∞—à —Å–∞–π—Ç –Ω–µ
—è–≤–ª—è–µ—Ç—Å—è –ª–∏—á–Ω—ã–º –±–ª–æ–≥–æ–º, –∞ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —á–∏—Ç–∞—Ç–µ–ª—è–º–∏, –æ—Å–≤–æ–µ–Ω–∏–µ
—Ñ–æ—Ä–º –±—É–¥–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø—É–Ω–∫—Ç–æ–º –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
"""