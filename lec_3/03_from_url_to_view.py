"""–ò–∑ URL –≤–æ view

–°–Ω–æ–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º. –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ –∏–∑ myapp3/urls.py
–≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞:

from .views import year_post, MonthPost, post_detail


–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–µ–π—à–∏–µ –≤—å—é—à–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç—Ä–∞–Ω—è—Ç –æ—à–∏–±–∫–∏ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HttpResponse

from django.http import HttpResponse

def year_post(request, year):
    text = ""
    ... # —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç–∞—Ç—å–∏ –∑–∞ –≥–æ–¥
    return HttpResponse(f"Posts from {year}<br>{text}")


–≠—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/les3/posts/2022/
–ü—Ä–∏ —ç—Ç–æ–º –≥–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º.

üî• –í–Ω–∏–º–∞–Ω–∏–µ! –ï—Å–ª–∏ –≤—ã —É–∫–∞–∑–∞–ª–∏ –¥—Ä—É–≥–æ–π –ø—Ä–µ—Ñ–∏–∫—Å –≤ –∫–æ—Ä–Ω–µ–≤–æ–º urls, –≤–∞—à –∞–¥—Ä–µ—Å
–±—É–¥–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HttpResponse

from django.views import View
from django.http import HttpResponse


class MonthPost(View):
    def get(self, request, year, month):
        text = ""
        ... # —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç–∞—Ç—å–∏ –∑–∞ –≥–æ–¥ –∏ –º–µ—Å—è—Ü
        return HttpResponse(f"Posts from {month}/{year}<br>{text}")


–í—Ç–æ—Ä–∞—è –≤—å—é—à–∫–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –∫–ª–∞—Å—Å–µ. –†–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–µ—Ä–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ù–æ
–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º—ã –ø–æ–ª—É—á–∞–µ–º –∏ –≥–æ–¥ –∏ –º–µ—Å—è—Ü. –ù–∞–ø—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ
–∞–¥—Ä–µ—Å—É http://127.0.0.1:8000/les3/posts/2022/6/


–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON

from django.http import JsonResponse

def post_detail(request, year, month, slug):
    ... # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç–∞—Ç—å–∏ –∑–∞ –≥–æ–¥ –∏ –º–µ—Å—è—Ü –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
    –ü–æ–∫–∞ –æ–±–æ–π–¥—ë–º—Å—è –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    post = {
    "year": year,
    "month": month,
    "slug": slug,
    "title": "–ö—Ç–æ –±—ã—Å—Ç—Ä–µ–µ —Å–æ–∑–¥–∞—ë—Ç —Å–ø–∏—Å–∫–∏ –≤ Python, list() –∏–ª–∏
    []",
    "content": "–í –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –æ—á–µ—Ä–µ–¥–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã
    –∑–∞–¥—É–º–∞–ª—Å—è –Ω–∞–¥ —Ç–µ–º, –∫–∞–∫–æ–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –≤ Python
    —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ..."
    }
    return JsonResponse(post, json_dumps_params={'ensure_ascii': False})


–í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç –¥–≤—É—Ö –ø–µ—Ä–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, —Ç—Ä–µ—Ç—å–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –æ–±—ä–µ–∫—Ç.
–û—á–µ–≤–∏–¥–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JsonResponse –≤–º–µ—Å—Ç–æ –ø—Ä–∏–≤—ã—á–Ω–æ–≥–æ
HttpResponse. –ú–µ–Ω–µ–µ –æ—á–µ–≤–∏–¥–Ω–æ–µ - —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç. –ê –µ—Å–ª–∏ –±—ã—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º, —Ç–µ–∫—Å—Ç –≤
–∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8, –∞ –Ω–µ –≤ ASCII. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
json_dumps_params={'ensure_ascii': False}. –ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –º–æ–¥—É–ª–µ–º json –∏–∑
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python, –ø–∞—Ä–∞–º–µ—Ç—Ä ensure_ascii –≤–∞–º –∑–Ω–∞–∫–æ–º. –û–Ω
–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ JSON –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ 127 —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –∫–æ–¥–∏—Ä–æ–≤–∫–∏
ASCII.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É –Ω–∞–ø–æ–¥–æ–±–∏–µ
http://127.0.0.1:8000/les3/posts/2022/6/python/
"""